(this["webpackJsonpnirs-software"]=this["webpackJsonpnirs-software"]||[]).push([[0],{148:function(e,t,c){e.exports={TopMenu:"TopMenu_TopMenu__1RDgf"}},149:function(e,t,c){e.exports={TitleBar:"TitleBar_TitleBar__1u4vx"}},150:function(e,t,c){e.exports={Separator:"Separator_Separator__2d_2P"}},151:function(e,t,c){e.exports={BottomBar:"BottomBar_BottomBar__1b2PW"}},152:function(e,t,c){e.exports={MainNavigation:"MainNavigation_MainNavigation__3Ig9I"}},154:function(e,t,c){e.exports={MainContainer:"MainContainer_MainContainer__1zaM3"}},181:function(e,t){},183:function(e,t){},193:function(e,t){},195:function(e,t){},222:function(e,t){},224:function(e,t){},225:function(e,t){},230:function(e,t){},232:function(e,t){},238:function(e,t){},240:function(e,t){},259:function(e,t){},271:function(e,t){},274:function(e,t){},277:function(e,t,c){"use strict";c.r(t);var n=c(1),i=c.n(n),r=c(32),s=c.n(r),a=(c(93),c(91)),o=c(10),l=c(14),d=c(0),u=function(){return Object(d.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOTSURBVHgBxZdtbEtRGMf/vb2iLxOG1kh0DWJib0Fs8VLbLEgmXiatbRJC2BCvXwTDEpPwbYSwWAjiZUTNWAg2o2niwyKSURUxs0qQdfsgXds1du+tc862rrOXznT1S3rPc8997vnf/znPvbdXhi5KSkqU9fX2jT6vL4/jOYMkSnKE4MeP7732HSk5cKTmIKmiCOO+2VifTCaDXC6v6xCEUqu19mp3Lkc3BQV7da/r6i2+dt9FyJA+FNGh4vf7IQhCigy4sjRjeUNW1rrYgLDH7XomSuJ8jDDkAqa3t7srmHCuacNm0hGHCCEKwtwVy7J2cTKeL0CE8frajZxf8i9AhJFz8nSOLn74RiQlNJonpTx4miRJncUVDnzRMfi2LA8Yr0ZTVn7I/LAJ/5yWDEERxWKXPoHEakREeKL9FSYIbhbPeFsN3udB2IQ1Gg2SkhL7PTZnRiwKokm9tLiRr4sKOdZfCRtN2VibvarfY5u3bCJVQ4QFEQmJ8UhMTEBmZgaOHjvcbz6PIULdpqUZWKzX69HU1BQ4lpychLi4mUBDzx2yb/8exMRMYjG9iHfvbL3GG9TxTDpYF0bTukBsMCzslbdr907W1tTUstbj8TDR1tZW9qzesbPvM2pAYequuPgYmdrV0Gqp28VwOlvQ1taGjIw0qFQqlpeamoIpUybjec0LOJudrM/21oZmEh88UIiqqkeIjdXBsGRxaGE6rbl561mcm2vCyVMnWFx28TKePqmBSq1CevoS1rd9xzbW3rpZHji/mjgvPHQUzU4nbpffITPgxbatW6DTTcUkrZb9eKMxu4/w3HlzEB09DmbzfeZco5kIm81Ofu/R+OULVq9ZSRwsQmNjI5kNLZtiKgI9uqba27lPcLna8PBBFfI25OBC6bmABh+8dsFYXlphvlsBi8WKoqJC3Lje6chLBv30qQHx8bPJ2nU+ocpv3sZgVFY+hIYsVzB88fGT/SY7HA7WtpB1PXTwCHPRzT1zJRNWq9U9bgeBFtuZ02d7C9vtHxCKYFEKPYcWj1KpCOl2IIZ8H/9J7fMXUBDhUG7DLkwr1+1yYbgM+yXhDarciAr/Kxwn50T8BzhJkKyIMDzP13EKlaIcEaZD+FXKXbt2qYx+YiBCELefrdaXV1lxRY0ZayIdHzHC8KP4NwplVCaL6aas7OxX0syiXxUyOZ9P3qELw/W3l+M4vyiKFpVSaX5a/fh8d/9v6v5VwyPJvWkAAAAASUVORK5CYII=",className:"pl-3 inline-block",alt:"NIRS Software"})},j=c(148),b=c.n(j),h=c(281),x=function(e){var t=e.text;return Object(d.jsx)(h.a.Button,{className:"h-full z-0 hover:bg-grey3 ",children:function(e){var c=e.open;return Object(d.jsx)("button",{className:"".concat(c&&"bg-grey3"," px-2 h-full"),children:t})}})},m=function(e){var t=e.text,c=e.onClick;return Object(d.jsx)(h.a.Item,{children:function(e){var n=e.active;return Object(d.jsx)("button",{className:"".concat(n?"bg-accent":""," text-white py-0.5 mb-0.5 px-6 w-full text-left text-base"),onClick:c,children:t})}})},f=function(){return Object(d.jsxs)(h.a,{as:"div",className:"h-full",children:[Object(d.jsx)(x,{text:"File"}),Object(d.jsxs)(h.a.Items,{className:"absolute w-64 mt-0 origin-bottom-left z-50 bg-grey3 shadow-xl py-2",children:[Object(d.jsx)(m,{text:"Open"}),Object(d.jsx)(m,{text:"Exit"})]})]})},g=function(){return Object(d.jsx)("nav",{className:"inline-block absolute top-0 h-full",children:Object(d.jsx)("ul",{className:"".concat(b.a.TopMenu," h-full my-auto ml-3"),children:Object(d.jsx)(f,{})})})},O=c.p+"static/media/minimize.68c175dd.svg",p=c.p+"static/media/restore.78572778.svg",v=c.p+"static/media/close.85862ead.svg",w=c(55),C=c.n(w),y=window.require("electron").ipcRenderer,S=function(){return Object(d.jsxs)("span",{className:"text-right items-center",children:[Object(d.jsx)("img",{src:O,className:"".concat(C.a.WindowButton," hover:bg-accent"),alt:"Minimize",onClick:function(){y.send("window:minimize")}}),Object(d.jsx)("img",{src:p,className:"".concat(C.a.WindowButton," hover:bg-accent"),alt:"Maximize/Restore",onClick:function(){y.send("window:restore")}}),Object(d.jsx)("img",{src:v,className:"".concat(C.a.WindowButton," ").concat(C.a.close),alt:"Close",onClick:function(){y.send("window:close")}})]})},N=c(149),L=c.n(N),A=function(){var e=Object(l.c)((function(e){return e.appState.value}));return Object(d.jsxs)("header",{className:"".concat(L.a.TitleBar," header-container relative items-center grid grid-cols-3 bg-grey1 z-50"),children:[Object(d.jsx)("div",{className:"h-full items-center align-middle",children:Object(d.jsxs)("div",{className:"grid items-center grid-flow-col auto-cols-max h-full ",children:[Object(d.jsx)("div",{children:Object(d.jsx)(u,{})}),Object(d.jsx)("div",{children:Object(d.jsx)(g,{})})]})}),Object(d.jsx)("div",{children:"home"!==e&&Object(d.jsx)("p",{className:"text-center",children:"File Name"})}),Object(d.jsx)(S,{})]})},k=c.p+"static/media/sensor.2e4db9ec.svg",I=c.p+"static/media/user-checked.d46c765b.svg",B=c.p+"static/media/experiment.bbd016e0.svg",T=c(150),E=c.n(T),R=function(){return Object(d.jsx)("span",{className:E.a.Separator})},F=c(39),M=c.n(F),D=function(){return Object(d.jsxs)("footer",{className:"text-right col-span-9",children:[Object(d.jsx)(R,{}),Object(d.jsxs)("button",{className:"".concat(M.a.TrayIconsButton," px-2"),children:[Object(d.jsx)("img",{src:B,className:"".concat(M.a.TrayIcons," icon inline-block pr-2"),alt:"Current Experiment"}),"Experiment: Name"]}),Object(d.jsx)(R,{}),Object(d.jsxs)("button",{className:"".concat(M.a.TrayIconsButton," px-2"),children:[Object(d.jsx)("img",{src:I,className:"".concat(M.a.TrayIcons," icon inline-block pr-2"),alt:"Current Patient"}),"Patient: Name"]}),Object(d.jsx)(R,{}),Object(d.jsxs)("button",{className:"".concat(M.a.TrayIconsButton," px-2"),children:[Object(d.jsx)("img",{src:k,className:"".concat(M.a.TrayIcons," icon inline-block pr-2"),alt:"Sensor Status"}),"Sensor: Connected"]})]})},X=c(151),P=c.n(X),z=function(){return Object(d.jsxs)("div",{className:"".concat(P.a.BottomBar," grid grid-cols-12 items-center bg-accent text-base z-50"),children:[Object(d.jsx)("p",{className:"ml-2 col-span-3",children:"Software Version: 0.0.1"}),Object(d.jsx)(D,{})]})},_=c(155),U=(c(168),c(169),function(e){var t=e.tooltip,c=void 0===t||t,n=e.placement,i=e.text;return!0===c?Object(d.jsx)(_.a,{placement:n,delay:[0,0],content:i,children:e.children}):Object(d.jsx)(d.Fragment,{children:e.children})}),Y=c(29),H=c.n(Y),Z=function(e){var t,c=e.isActive,n=e.onClick;return t=c?H.a.active:"",Object(d.jsx)(U,{text:"Home",placement:"right",children:Object(d.jsx)("button",{className:"".concat(H.a.IconButton," ").concat(t),onClick:n,children:Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:"3rem",height:"3rem",children:Object(d.jsx)("g",{children:Object(d.jsx)("path",{d:"M 16 2.59375 L 15.28125 3.28125 L 2.28125 16.28125 L 3.71875 17.71875 L 5 16.4375 L 5 28 L 14 28 L 14 18 L 18 18 L 18 28 L 27 28 L 27 16.4375 L 28.28125 17.71875 L 29.71875 16.28125 L 16.71875 3.28125 Z M 16 5.4375 L 25 14.4375 L 25 26 L 20 26 L 20 16 L 12 16 L 12 26 L 7 26 L 7 14.4375 Z M 16 5.4375 "})})})})})},V=function(e){var t,c=e.isActive,n=e.onClick;return t=c?H.a.active:"",Object(d.jsx)(U,{text:"Record",placement:"right",children:Object(d.jsx)("button",{className:"".concat(H.a.IconButton," ").concat(t),onClick:n,children:Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:"3.1rem",height:"3.1rem",children:Object(d.jsx)("g",{children:Object(d.jsx)("path",{d:"M 5 5 L 5 27 L 27 27 L 27 5 Z M 7 7 L 25 7 L 25 25 L 7 25 Z M 15.09375 9 L 14.9375 9.78125 L 12.8125 18.90625 L 11.9375 16.65625 L 11.6875 16 L 8 16 L 8 18 L 10.3125 18 L 11.96875 22.34375 L 12.21875 23 L 13.90625 23 L 14.0625 22.21875 L 16.0625 13.6875 L 17.03125 17.25 L 17.65625 19.5 L 18.84375 17.53125 C 18.84375 17.53125 19.09375 17 20 17 C 20.90625 17 21.1875 17.53125 21.1875 17.53125 L 21.46875 18 L 24 18 L 24 16 L 22.40625 16 C 21.988281 15.566406 21.285156 15 20 15 C 19.394531 15 19.042969 15.289062 18.625 15.5 L 17.0625 9.75 L 16.875 9 Z M 15.09375 9 "})})})})})},W=function(e){var t,c=e.isActive,n=e.onClick;return t=c?H.a.active:"",Object(d.jsx)(U,{text:"Review",placement:"right",children:Object(d.jsx)("button",{className:"".concat(H.a.IconButton," ").concat(t),onClick:n,children:Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:"3rem",height:"3rem",children:Object(d.jsx)("g",{children:Object(d.jsx)("path",{d:"M 13 3 C 7.484375 3 3 7.484375 3 13 C 3 18.515625 7.484375 23 13 23 C 15.398438 23 17.601562 22.148438 19.324219 20.738281 L 27.292969 28.707031 L 28.707031 27.292969 L 20.738281 19.324219 C 21.953125 17.84375 22.75 16.007812 22.953125 14 L 28 14 L 28 12 L 16.617188 12 L 13.929688 6.625 L 10.808594 13.910156 L 9.535156 12 L 5.070312 12 C 5.5625 8.058594 8.929688 5 13 5 C 16.351562 5 19.21875 7.070312 20.410156 10 L 22.539062 10 C 21.261719 5.949219 17.46875 3 13 3 Z M 14.070312 11.375 L 15.382812 14 L 20.933594 14 C 20.4375 17.941406 17.070312 21 13 21 C 8.929688 21 5.5625 17.941406 5.070312 14 L 8.464844 14 L 11.191406 18.089844 Z M 14.070312 11.375 "})})})})})},K=c(152),q=c.n(K),G=c(33),J=Object(G.b)({name:"appState",initialState:{value:"record"},reducers:{changeAppState:function(e,t){e.value=t.payload}}}),Q=J.actions.changeAppState,$=J.reducer,ee=function(){var e,t=Object(l.c)((function(e){return e.appState.value})),c=Object(l.b)(),i=Object(o.f)();switch(Object(n.useEffect)((function(){i.push("".concat(t))}),[t,i]),t){case"home":e=Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(Z,{onClick:function(){return c(Q("home"))},isActive:!0}),Object(d.jsx)(V,{onClick:function(){return c(Q("record"))}}),Object(d.jsx)(W,{onClick:function(){return c(Q("review"))}})]});break;case"record":e=Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(Z,{onClick:function(){return c(Q("home"))}}),Object(d.jsx)(V,{onClick:function(){return c(Q("record"))},isActive:!0}),Object(d.jsx)(W,{onClick:function(){return c(Q("review"))}})]});break;case"review":e=Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(Z,{onClick:function(){return c(Q("home"))}}),Object(d.jsx)(V,{onClick:function(){return c(Q("record"))}}),Object(d.jsx)(W,{onClick:function(){return c(Q("review"))},isActive:!0})]});break;default:e=null}return Object(d.jsx)("div",{className:"".concat(q.a.MainNavigation," text-center"),children:e})},te=c(154),ce=c.n(te),ne=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{className:"text-4xl font-bold",children:"NIRS Software"}),Object(d.jsx)("p",{children:"Software Version: 0.0.1"}),Object(d.jsx)("p",{children:"Developed by Shadgan Lab at ICORD"})]})},ie=function(e){var t=e.title,c=e.description;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h3",{className:"font-bold",children:t}),Object(d.jsx)("p",{className:"text-base text-light",children:c})]})},re=c.p+"static/media/recent-file.e4ec7739.svg",se=function(){return Object(d.jsxs)("div",{className:"bg-grey2 grid grid-cols-5 px-3 py-5",children:[Object(d.jsxs)("div",{className:"col-span-3 flex items-center",children:[Object(d.jsx)("span",{className:"inline-block mr-5",children:Object(d.jsx)("img",{className:"my-auto",src:re,width:"48px",alt:"File"})}),Object(d.jsx)("span",{className:"inline-block",children:Object(d.jsx)(ie,{title:"Project Name",description:"Project Description"})})]}),Object(d.jsx)("div",{className:"col-span-2 flex items-center justify-end mr-1",children:Object(d.jsx)("p",{className:"text-light text-base",children:"Saved: July 10, 2021"})})]})},ae=function(){return Object(d.jsxs)("div",{className:"bg-grey1 h-4/6 p-6",children:[Object(d.jsx)("input",{className:"bg-light text-dark px-3 py-1 w-full placeholder-grey1 mb-5",placeholder:"Search for a recent project ..."}),Object(d.jsx)(se,{})]})},oe=function(e){var t=e.icon,c=e.title,n=e.description,i=e.onClick;return Object(d.jsxs)("button",{className:"bg-grey1 p-5 mb-5 w-full grid grid-flow-col auto-cols-max gap-6 items-center hover:bg-accent transition duration-300",onClick:i,children:[Object(d.jsx)("div",{children:Object(d.jsx)("img",{width:"58px",src:t,alt:"Icon"})}),Object(d.jsx)("div",{className:"text-left",children:Object(d.jsx)(ie,{title:c,description:n})})]})},le=c.p+"static/media/new-file.3f194f52.svg",de=c.p+"static/media/open-file.8e1a9a55.svg",ue=function(){var e=Object(l.b)();return Object(d.jsxs)("div",{className:"h-full mx-auto pt-12 lg:w-5/6 xl:w-4/6",children:[Object(d.jsx)(ne,{}),Object(d.jsxs)("div",{className:"grid grid-cols-5 mt-10 h-full gap-10",children:[Object(d.jsx)("div",{className:"col-span-3",children:Object(d.jsx)(ae,{})}),Object(d.jsxs)("div",{className:"col-span-2",children:[Object(d.jsx)(oe,{icon:le,title:"New Recording",description:"Create a new NIRS recording",onClick:function(){return e(Q("record"))}}),Object(d.jsx)(oe,{icon:de,title:"Open Recording",description:"Open a recording file or project"})]})]})]})},je=function(e){var t=e.icon,c=e.text,n=e.large,i=n?"text-xl":"",r=n?"32rem":"26rem";return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("span",{className:"mr-2",children:Object(d.jsx)("img",{className:"transition duration-200",width:r,src:t,alt:"Icon"})}),Object(d.jsx)("span",{className:i,children:c})]})},be=function(e){var t=e.text,c=e.icon,n=e.isActive,i=e.onClick,r=n?"bg-accent":"bg-grey2 hover:bg-light2 active:bg-accent";return Object(d.jsx)("button",{className:"".concat(r," w-64 tab-item-height px-3 grid grid-flow-col auto-cols-max items-center transition duration-100"),onClick:i,children:Object(d.jsx)(je,{text:t,icon:c,large:!0})})},he=c.p+"static/media/graph-lines.16ef8c9f.svg",xe=c.p+"static/media/review-white.3f019082.svg",me=c(65),fe=function(){var e=Object(n.useState)(),t=Object(me.a)(e,2),c=t[0],i=t[1];return Object(n.useEffect)((function(){var e=setInterval((function(){var e=new Date;i(e.toLocaleTimeString())}),1e3);return function(){clearInterval(e)}}),[]),Object(d.jsx)("p",{className:"text-2xl",children:c})},ge=function(){var e=Object(l.c)((function(e){return e.appState.value})),t=Object(l.b)(),c="record"===e,n="review"===e;return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"w-full bg-dark grid grid-flow-col auto-cols-max items-center relative",children:[Object(d.jsx)(be,{text:"Record",icon:he,isActive:c,onClick:function(){return t(Q("record"))}}),Object(d.jsx)(be,{text:"Review",icon:xe,isActive:n,onClick:function(){return t(Q("review"))}}),Object(d.jsx)("div",{className:"absolute right-8",children:Object(d.jsx)(fe,{})})]})})},Oe=Object(G.b)({name:"recordState",initialState:{value:"idle"},reducers:{changeRecordState:function(e,t){e.value=t.payload}}}),pe=Oe.actions.changeRecordState,ve=Oe.reducer,we=function(e){var t=e.icon,c=e.text,n=e.darker,i=e.isActive,r=e.disabled,s=void 0!==r&&r,a=e.tooltip,o=void 0!==a&&a,l=e.tooltipText,u=e.tooltipPlacement,j=void 0===u?"bottom":u,b=e.onClick,h=n?"bg-dark hover:bg-grey2":"bg-grey2 hover:bg-dark",x=i&&"bg-accent hover:bg-accent-hover",m=s&&"bg-grey2 hover:bg-grey2 cursor-not-allowed";return Object(d.jsx)(U,{tooltip:o,placement:j,text:l,children:Object(d.jsx)("button",{className:"".concat(m," ").concat(s||h," ").concat(s||x," px-4 w-full py-2 grid grid-flow-col auto-cols-max items-center transition relative duration-100  "),onClick:b,children:Object(d.jsx)(je,{text:c,icon:t})})})},Ce=c.p+"static/media/record.21455244.svg",ye=c.p+"static/media/stop.c4ef10ca.svg",Se=c.p+"static/media/pause.1a72150c.svg",Ne=window.require("electron").ipcRenderer,Le=function(){var e=Object(l.c)((function(e){return e.recordState.value})),t=Object(l.b)();Object(n.useEffect)((function(){return"idle"!==e&&t(pe("idle")),function(){t(pe("idle"))}}),[]);var c=function(){t(pe("idle"!==e&&"stop"!==e?"stop":"recording"))},i=function(){t(pe("pause"===e?"continue":"pause"))};switch(Object(n.useEffect)((function(){"idle"!==e&&Ne.send("record:".concat(e))}),[e]),e){case"idle":case"stop":return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(we,{text:"Record",icon:Ce,darker:!0,onClick:c,isActive:!1}),Object(d.jsx)(we,{text:"Pause",icon:Se,darker:!1,isActive:!1,disabled:!0,tooltip:!0,tooltipText:"Start a recording first"})]});case"continue":case"recording":return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(we,{text:"Stop",icon:ye,darker:!0,onClick:c,isActive:!0}),Object(d.jsx)(we,{text:"Pause",icon:Se,darker:!0,onClick:i,isActive:!1})]});case"pause":return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(we,{text:"Stop",icon:ye,darker:!0,onClick:c,isActive:!0}),Object(d.jsx)(we,{text:"Paused",icon:Se,darker:!0,onClick:i,isActive:!0})]});default:return}},Ae=c.p+"static/media/zoom-in.95e13fd4.svg",ke=c.p+"static/media/zoom-out.c020b612.svg",Ie=c.p+"static/media/reset-zoom.087f9c66.svg",Be=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(we,{text:"Zoom In",icon:Ae}),Object(d.jsx)(we,{text:"Zoom Out",icon:ke}),Object(d.jsx)(we,{text:"Reset Zoom",icon:Ie})]})},Te=c.p+"static/media/focus-mode.0c6e1b4b.svg",Ee=function(){return Object(d.jsx)(we,{text:"Focus Mode",icon:Te})},Re=function(){return Object(d.jsxs)("div",{className:"w-full bg-grey1 px-2 h-14 grid gap-3 grid-flow-col grid-cols-2 items-center",children:[Object(d.jsxs)("div",{className:"grid grid-flow-col auto-cols-max items-center gap-3",children:[Object(d.jsx)(Be,{}),Object(d.jsx)(R,{}),Object(d.jsx)(Ee,{})]}),Object(d.jsx)("div",{className:"grid grid-flow-col auto-cols-max items-center gap-3 justify-end",children:Object(d.jsx)("div",{className:"grid grid-flow-col auto-cols-max gap-3",children:Object(d.jsx)(Le,{})})})]})},Fe=function(e){var t=e.text,c=e.color,n=e.isLast,i=n?"border-b-0":"border-b-6",r=n?"bottom-4":"bottom-2";return Object(d.jsxs)("div",{className:"h-full relative grid items-center content-center mt-0.1 ".concat(i," text-center justify-items-center border-black"),children:[Object(d.jsx)("span",{className:"-mt-4 mb-1",children:t}),Object(d.jsx)("span",{className:"p-3 bg-".concat(c," w-4 ")}),Object(d.jsx)("span",{className:"text-sm absolute left-1/3 ".concat(r),children:"F: 100Hz"})]})},Me=c(26),De=c(27),Xe=c(9),Pe=c.n(Xe),ze=Pe.a.lightningChart,_e=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;return Object(Me.a)(this,e),this.channelCount=t,this.numberOfRows=2*t,this.createDashboard()}return Object(De.a)(e,[{key:"createDashboard",value:function(){return ze().Dashboard({numberOfRows:this.numberOfRows,numberOfColumns:1,container:"chart",antialias:!0})}}]),e}(),Ue=Pe.a.emptyFill,Ye=Pe.a.emptyLine,He=Pe.a.AxisTickStrategies,Ze=Pe.a.AutoCursorModes,Ve=Pe.a.SolidFill,We=Pe.a.ColorRGBA,Ke=Pe.a.UIElementBuilders,qe=Pe.a.Themes,Ge=Pe.a.AxisScrollStrategies,Je=Pe.a.ColorHEX,Qe=function(){function e(t,c){return Object(Me.a)(this,e),this.dashboard=t,this.channelCount=c,this.chartRowSize=2,this.charts=[],this.createChartforEachChannel(),this.charts}return Object(De.a)(e,[{key:"createChartforEachChannel",value:function(){for(var e=0;e<this.channelCount;e++){var t=this.dashboard.createChartXY({theme:qe.dark,columnIndex:0,rowIndex:0===e?0:this.chartRowSize,columnSpan:1,rowSpan:2});t.setBackgroundFillStyle(new Ve({color:Je("#1E1E1E")})),t.setMouseInteractionRectangleFit(!1).setMouseInteractionRectangleZoom(!1),t.getDefaultAxisY().setScrollStrategy(Ge.fitting),t.getDefaultAxisY().disableAnimations(),t.getDefaultAxisY().getAxisInteractionReleaseByDoubleClicking(),t.setAutoCursorMode(Ze.disabled),0===e?t.setTitle("Sensor Data"):(t.setTitleFillStyle(Ue),this.chartRowSize+=2),t.getDefaultAxisX().setInterval(0,2e4).setScrollStrategy(Ge.progressive),e!==this.channelCount-1?t.getDefaultAxisX().setTickStrategy(He.Empty):t.getDefaultAxisX().setTitle("Seconds").setScrollStrategy(Ge.progressive),t.getDefaultAxisY().addCustomTick(Ke.AxisTick).setTickLength(50).setTextFormatter((function(){return""})).setGridStrokeStyle(Ye).setMarker((function(e){return e.setTickStyle(new Ve({color:We(0,0,0,0)}))})),this.charts.push(t)}}}]),e}(),$e=Pe.a.SolidFill,et=Pe.a.SolidLine,tt=Pe.a.ColorHEX,ct=function(){function e(t,c){return Object(Me.a)(this,e),this.charts=t,this.seriesLineColorArr=c,this.series=[],this.createSeries(),this.series}return Object(De.a)(e,[{key:"createSeries",value:function(){for(var e=0;e<this.charts.length;e++){var t=this.charts[e].addLineSeries({dataPattern:{pattern:"ProgressiveX",regularProgressiveStep:!1}}).setDataCleaning({minDataPointCount:2e3}).setStrokeStyle(new et({thickness:2,fillStyle:new $e({color:tt(this.seriesLineColorArr[e])})}));this.series.push(t)}}}]),e}(),nt=Pe.a.translatePoint,it=Pe.a.UILayoutBuilders,rt=Pe.a.UIElementBuilders,st=Pe.a.UIOrigins,at=function(){function e(t,c,n,i){Object(Me.a)(this,e),this.dashboard=t,this.charts=c,this.seriesList=n,this.channelCount=i,this.syncAxisXEventHandler=this.synchronizeXAxis(),this.createUIElement()}return Object(De.a)(e,[{key:"synchronizeXAxis",value:function(){var e=this,t=!1;return function(c,n,i){t||(t=!0,e.charts.map((function(e){return e.getDefaultAxisX()})).filter((function(e){return e!==c})).forEach((function(e){return e.setInterval(n,i,!1,!0)})),t=!1)}}},{key:"createUIElement",value:function(){var e=this,t=this.dashboard.addUIElement(it.Column,this.dashboard.engine.scale).setMouseInteractions(!1).setOrigin(st.LeftBottom).setMargin(5).setBackground((function(t){return t.setFillStyle(e.dashboard.getTheme().resultTableFillStyle).setStrokeStyle(e.dashboard.getTheme().resultTableStrokeStyle)})),c=rt.TextBox.addStyler((function(t){return t.setTextFillStyle(e.dashboard.getTheme().resultTableTextFillStyle)})),n=t.addElement(it.Row).addElement(c),i=this.seriesList.map((function(e,n){return t.addElement(it.Row).addElement(c)})),r=this.charts[this.channelCount-1].getDefaultAxisX().addCustomTick(),s=[];this.charts.forEach((function(t,c){c!==e.channelCount-1&&s.push(t.getDefaultAxisX().addConstantLine().setValue(0).setMouseInteractions(!1).setStrokeStyle(t.getTheme().customTickGridStrokeStyle))}));var a=this.seriesList.map((function(t,c){return e.charts[c].getDefaultAxisY().addCustomTick()})),o=function(e){e?(t.restore(),r.restore(),a.forEach((function(e){return e.restore()})),s.forEach((function(e){return e.restore()}))):(t.dispose(),r.dispose(),a.forEach((function(e){return e.dispose()})),s.forEach((function(e){return e.dispose()})))};o(!1),this.charts.forEach((function(c,l){var d=c.getDefaultAxisX();c.onSeriesBackgroundMouseMove((function(u,j){var b={x:j.clientX,y:j.clientY},h=c.engine.clientLocation2Engine(b.x,b.y),x=e.seriesList.map((function(e){return e.solveNearestFromScreen(h)}));if(x.includes(void 0))o(!1);else{var m=x[l].location,f=nt(m,e.seriesList[l].scale,e.dashboard.engine.scale);t.setPosition({x:f.x,y:h.y}),m.x>d.getInterval().end/1.5?t.setOrigin(st.RightBottom):t.setOrigin(st.LeftBottom),n.setText("X: ".concat(d.formatValue(x[l].location.x))),i.forEach((function(t,c){t.setText("Y".concat(c,": ").concat(e.charts[c].getDefaultAxisY().formatValue(x[c].location.y)))})),r.setValue(x[l].location.x),s.forEach((function(e,t){e.setValue(r.getValue())})),a.forEach((function(e,t){e.setValue(x[t].location.y)})),o(!0)}}));var u=c.getDefaultAxisX();u.onScaleChange((function(t,c){return e.syncAxisXEventHandler(u,t,c)})),c.onSeriesBackgroundMouseLeave((function(e,t){o(!1)})),c.onSeriesBackgroundMouseDragStart((function(e,t){o(!1)}))}))}}]),e}(),ot=window.require("electron").ipcRenderer,lt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;Object(Me.a)(this,e),this.channelCount=t,this.seriesLineColorArr=["#E3170A","#ABFF4F","#00FFFF","#FFFFFF"],this.dashboard=new _e(this.channelCount),this.charts=new Qe(this.dashboard,this.channelCount),this.Series=new ct(this.charts,this.seriesLineColorArr),this.ChartSyncXAxis=new at(this.dashboard,this.charts,this.Series,this.channelCount),this.seriesLength=this.Series.length,console.log("Class created")}return Object(De.a)(e,[{key:"cleanup",value:function(){this.dashboard.dispose(),this.dashboard=null,this.charts=null,this.ChartSeries=null,this.ChartSyncXAxis=null,ot._events={},console.log(ot),console.log(this.ChartSeries)}},{key:"addNIRSData",value:function(){var e=this;ot.on("data:nirs-reader",(function(t,c){for(var n=0;n<e.seriesLength;n++)e.Series[n].add({x:c[0],y:c[n+1]})}))}}]),e}(),dt=c.p+"static/media/error.851d2a5a.svg",ut=function(e){return s.a.createPortal(Object(d.jsx)("div",{className:"fixed top-0 left-0 h-full w-full bg-grey1 bg-opacity-60 z-10 grid items-center justify-items-center",children:Object(d.jsxs)("div",{className:"bg-dark grid auto-cols-max gap-6 grid-flow-col items-center px-10 py-6",children:[Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:dt,width:"60rem",alt:"Error Icon"})}),Object(d.jsx)("div",{className:"text-white text-2xl",children:Object(d.jsx)("h4",{children:"An error has occurred!"})})]})}),document.getElementById("modal"))},jt=function(){var e=Object(l.c)((function(e){return e.recordState.value})),t=Object(n.useRef)(void 0);return Object(n.useEffect)((function(){console.log("create chart");var e=new lt;return e.addNIRSData(),t.current=e,function(){console.log("destroy chart"),e.cleanup(),delete window.chart,delete window.ChartClass}}),[]),Object(n.useEffect)((function(){"recording"===e&&t.current.Series.forEach((function(e){e.clear()}))}),[e]),Object(d.jsxs)("div",{className:"fit-to-container grid grid-cols-12",children:[Object(d.jsxs)("div",{className:"h-full col-span-1 grid grid-rows-4 grid-flow-row",children:[Object(d.jsx)(Fe,{text:"O2Hb",color:"chart1"}),Object(d.jsx)(Fe,{text:"HHb",color:"chart2"}),Object(d.jsx)(Fe,{text:"tHb",color:"chart3"}),Object(d.jsx)(Fe,{text:"TOI",color:"chart4",isLast:!0})]}),Object(d.jsx)("div",{className:"h-full col-span-11",id:"chart"}),Object(d.jsx)(ut,{})]})},bt=function(e){var t=e.title;return Object(d.jsx)("div",{className:"w-full bg-grey1 h-10 grid items-center pl-3",children:Object(d.jsx)("h5",{children:t})})},ht=function(e){var t=e.text;return Object(d.jsx)("button",{className:"text-white absolute bottom-5 right-5 bg-grey1 px-2 py-1 transition duration-100 hover:bg-light2 active:bg-accent",children:t})},xt=function(){return Object(d.jsxs)("div",{className:"bg-grey3 h-1/3 relative",children:[Object(d.jsx)(bt,{title:"Filters"}),Object(d.jsxs)("form",{className:" p-4",children:[Object(d.jsxs)("select",{className:"p-2 bg-grey1 w-full",name:"filters",id:"filters",children:[Object(d.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select filter"}),Object(d.jsx)("option",{value:"lowpass",children:"LowPass"}),Object(d.jsx)("option",{value:"highpass",children:"HighPass"})]}),Object(d.jsx)("select",{className:"p-2 bg-grey1 w-full mt-3",name:"filter-type",id:"filter-type",children:Object(d.jsx)("option",{value:"lowpass",children:"Filter value"})}),Object(d.jsx)(ht,{text:"Apply Filter"})]})]})},mt=function(){return Object(d.jsxs)("div",{className:"bg-grey3 h-1/3 relative mt-5",children:[Object(d.jsx)(bt,{title:"Gain"}),Object(d.jsxs)("form",{className:" p-4",children:[Object(d.jsxs)("select",{className:"p-2 bg-grey1 w-full",name:"filters",id:"filters",children:[Object(d.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select Gain"}),Object(d.jsx)("option",{value:"lowpass",children:"LowPass"}),Object(d.jsx)("option",{value:"highpass",children:"HighPass"})]}),Object(d.jsx)("select",{className:"p-2 bg-grey1 w-full mt-3",name:"filter-type",id:"filter-type",children:Object(d.jsx)("option",{value:"lowpass",children:"Gain value"})}),Object(d.jsx)(ht,{text:"Apply Gain"})]})]})},ft=c(282),gt=[{id:1,name:"NIRS Reader"},{id:2,name:"Reader2"}],Ot=function(){var e=Object(n.useState)(gt[0]),t=Object(me.a)(e,2),c=t[0],i=t[1];return Object(d.jsxs)("div",{className:"bg-grey3 h-1/4 relative mt-5",children:[Object(d.jsx)(bt,{title:"Source"}),Object(d.jsx)("div",{className:"p-4",children:Object(d.jsxs)(ft.a,{value:c,onChange:i,children:[Object(d.jsx)(ft.a.Button,{className:"w-full py-0.5 px-2 text-left bg-grey1 border-3 border-grey1 transition duration-200 hover:border-accent focus-within:border-accent ",children:c.name}),Object(d.jsx)(ft.a.Options,{className:"w-full mt-1 py-0.5 px-2 text-left bg-grey2 ",children:gt.map((function(e){return Object(d.jsx)(ft.a.Option,{className:"py-1 pl-4 cursor-pointer",value:e,children:function(t){var c=t.active,n=t.selected;return Object(d.jsxs)("li",{className:"".concat(c&&"text-accent"," ").concat(n&&"text-accent"),children:[n&&"\u2714  ",e.name]})}},e.id)}))})]})})]})},pt=function(e){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(xt,{}),Object(d.jsx)(mt,{}),Object(d.jsx)(Ot,{})]})},vt=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(ge,{}),Object(d.jsxs)("div",{className:"grid grid-cols-12 grid-rows-3 custom-height gap-4",children:[Object(d.jsxs)("div",{className:"col-span-10 h-full row-span-3",children:[Object(d.jsx)(Re,{}),Object(d.jsx)(jt,{})]}),Object(d.jsx)("div",{className:"col-span-2 mr-3 row-span-3",children:Object(d.jsx)(pt,{})})]})]})},wt=function(e){var t;switch(e.container){case"startContainer":t=Object(d.jsx)(ue,{});break;case"recordContainer":t=Object(d.jsx)(vt,{});break;default:t=Object(d.jsx)(ue,{})}return Object(d.jsx)("main",{className:ce.a.MainContainer,children:t})};var Ct=function(){return Object(d.jsxs)(a.a,{children:[Object(d.jsx)(A,{}),Object(d.jsx)(z,{}),Object(d.jsx)(ee,{}),Object(d.jsxs)(o.c,{children:[Object(d.jsx)(o.a,{exact:!0,path:"/home",render:function(){return Object(d.jsx)(wt,{container:"startContainer"})}}),Object(d.jsx)(o.a,{exact:!0,path:"/record",render:function(){return Object(d.jsx)(wt,{container:"recordContainer"})}})]})]})},yt=Object(G.b)({name:"sourceState",initialState:{value:"NIRSReader"},reducers:{changeSourceState:function(e,t){e.value=t.payload}}}),St=(yt.actions.changeSourceState,yt.reducer),Nt=Object(G.a)({reducer:{appState:$,recordState:ve,sourceState:St}});s.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(l.a,{store:Nt,children:Object(d.jsx)(Ct,{})})}),document.getElementById("root"))},29:function(e,t,c){e.exports={IconButton:"IconButtons_IconButton__2rYSW",active:"IconButtons_active__38cC7"}},39:function(e,t,c){e.exports={TrayIcons:"TrayIcons_TrayIcons__3qxqi",TrayIconsButton:"TrayIcons_TrayIconsButton__2XrcL"}},55:function(e,t,c){e.exports={WindowButton:"WindowButtons_WindowButton__3xyYH",close:"WindowButtons_close__QQJVW"}},93:function(e,t,c){}},[[277,1,2]]]);
//# sourceMappingURL=main.e3433c6d.chunk.js.map